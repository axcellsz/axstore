<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catatan Hutang</title>

  <!-- Nanti kita buat bon.css -->
  <link rel="stylesheet" href="/bon.css" />
  <!-- Nanti kita buat bon.js -->
  <script src="/bon.js" defer></script>
</head>
<body>

  <!-- TOAST NOTIF -->
  <div id="toast" class="toast" hidden></div>

  <div class="bon-page">

    <!-- KARTU UTAMA -->
    <div class="bon-card">

      <!-- HEADER: BACK + NAMA USER -->
      <header class="bon-header">
        <button
          type="button"
          class="bon-back-btn"
          onclick="goBackToAdmin()"
          aria-label="Kembali ke admin"
        >
          â†
        </button>

        <div class="bon-user-info">
          <div class="bon-user-name" id="bon-user-name">Nama user</div>
          <div class="bon-user-phone" id="bon-user-phone">-</div>
        </div>
      </header>

      <!-- KARTU TOTAL HUTANG -->
      <section class="bon-total-card">
        <div class="bon-total-title" id="bon-total-title">
          Total hutang pengguna ini
        </div>
        <div class="bon-total-amount" id="bon-total-amount">
          Rp 0
        </div>
        <button
          type="button"
          class="bon-total-action"
          id="bon-btn-lunaskan"
        >
          Lunaskan
        </button>
      </section>

      <!-- AKSI CEPAT (NANTI BISA DIISI: tagih via WA, dll) -->
      <section class="bon-quick-actions">
        <!-- Placeholder, nanti bisa diisi icon WA / laporan / pengingat -->
        <button
          type="button"
          class="bon-quick-btn"
          id="bon-btn-tagih-wa"
        >
          Tagih via WhatsApp
        </button>
      </section>

      <!-- HEADER LIST TRANSAKSI -->
      <section class="bon-list-header">
        <div class="bon-list-title">Riwayat transaksi</div>
        <div class="bon-list-subtitle">
          Kolom <strong>Berikan</strong> = hutang baru, 
          <strong>Terima</strong> = pembayaran.
        </div>
      </section>

      <!-- LIST TRANSAKSI -->
      <section class="bon-list" id="bon-list">
        <!--
          Nanti bon.js akan mengisi daftar transaksi di sini.
          Contoh struktur 1 item (untuk referensi saat styling di bon.css):

          <article class="bon-item">
            <div class="bon-item-left">
              <div class="bon-item-date">08 Des 2025</div>
              <div class="bon-item-note">Kuota XL 20GB</div>
            </div>
            <div class="bon-item-amounts">
              <div class="bon-item-terima">Rp65.000</div>
              <div class="bon-item-beri bon-item-beri--red">Rp18.000</div>
            </div>
          </article>
        -->
        <div id="bon-empty" class="bon-empty">
          Belum ada catatan hutang.
        </div>
      </section>

    </div> <!-- /bon-card -->

    <!-- BOTTOM BAR: TOMBOL BERIKAN / TERIMA -->
    <div class="bon-bottom-bar">
      <button
        type="button"
        class="bon-bottom-btn bon-bottom-btn-beri"
        onclick="openBonForm('beri')"
      >
        Berikan
      </button>
      <button
        type="button"
        class="bon-bottom-btn bon-bottom-btn-terima"
        onclick="openBonForm('terima')"
      >
        Terima
      </button>
    </div>

  </div> <!-- /bon-page -->


  <!-- MODAL FORM TRANSAKSI BON -->
  <div id="bon-form-modal" class="bon-modal" hidden>
    <div class="bon-modal-backdrop" onclick="closeBonForm()"></div>

    <div class="bon-modal-content">
      <h2 id="bon-form-title">Tambah hutang</h2>

      <form id="bon-form">
        <!-- jenis: beri / terima (diset di JS) -->
        <input type="hidden" id="bon-form-type" name="type" />

        <label for="bon-form-date">Tanggal</label>
        <input
          type="date"
          id="bon-form-date"
          name="date"
          class="input"
          required
        />

        <label for="bon-form-amount">Nominal (Rp)</label>
        <input
          type="number"
          id="bon-form-amount"
          name="amount"
          class="input"
          min="1"
          required
        />

        <label for="bon-form-note">Keterangan</label>
        <input
          type="text"
          id="bon-form-note"
          name="note"
          class="input"
          placeholder="contoh: Kuota 20GB, bayar sebagian, dll"
        />

        <button type="submit" class="btn-primary" style="margin-top: 12px;">
          Simpan
        </button>

        <button
          type="button"
          class="btn-secondary"
          style="margin-top: 8px;"
          onclick="closeBonForm()"
        >
          Batal
        </button>
      </form>
    </div>
  </div>

</body>
</html>
