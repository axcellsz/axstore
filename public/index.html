<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <title>Dashboard</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/index.css" />

  <!-- JS -->
  <script src="/index.js" defer></script>
</head>
<body>

  <!-- ALERT GLOBAL -->
  <div id="alert" class="alert" style="display:none;"></div>

  <!-- TOMBOL PROFILE (POJOK KANAN ATAS) -->
  <button
    id="profile-fab"
    class="profile-btn"
    type="button"
    onclick="openProfilePanel()"
  >
    <!-- Icon profil (bisa diganti inisial lewat CSS/JS kalau mau) -->
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none"
         stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
      <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
      <circle cx="12" cy="7" r="4"></circle>
    </svg>
  </button>

  <!-- DASHBOARD UTAMA (kosong dulu, hanya sambutan) -->
  <div class="card" id="card-dashboard">
    <h1>Halo, selamat datang!</h1>
    <p id="welcome"></p>
  </div>

  <!-- PANEL SLIDE PROFIL DARI KANAN -->
  <div id="profile-panel" class="profile-panel">
    <div class="profile-panel-header">
      <h2>Profil</h2>
      <button
        id="btn-close-profile"
        class="profile-panel-close"
        type="button"
        onclick="closeProfilePanel()"
      >
        Ã—
      </button>
    </div>

    <!-- AVATAR PROFIL (foto / inisial) -->
    <div id="profile-avatar" class="profile-avatar">
      <img id="profile-avatar-img" alt="Foto profil" />
      <span id="profile-avatar-initial"></span>
    </div>

    <!-- TOMBOL UBAH FOTO -->
    <button
      id="btn-change-photo"
      class="btn-secondary"
      type="button"
      style="margin-bottom:12px;"
    >
      Ubah foto
    </button>

    <!-- INPUT FILE (DISSEMBUNYIKAN, DIPICU OLEH TOMBOL DI ATAS) -->
    <input
      type="file"
      accept="image/*"
      id="profile-photo-input"
      style="display:none;"
    />

    <!-- INFO PROFIL (TEKS SINGKAT) -->
    <div id="profile-info" class="profile-info">
      <p>Username <strong id="info-username"></strong></p>
      <p>No. WhatsApp <strong id="info-phone"></strong></p>
      <p>Status profil <strong id="info-status"></strong></p>
    </div>

    <!-- TOMBOL KE FORM LENGKAPI PROFIL -->
    <button
      type="button"
      class="btn-primary"
      id="btn-open-complete-profile"
      style="margin-top:16px;"
      onclick="openCompleteProfile()"
    >
      Lengkapi / edit data diri
    </button>

    <!-- TOMBOL KELUAR -->
    <button
      type="button"
      class="btn-secondary"
      onclick="doLogout()"
      style="margin-top:8px;"
    >
      Keluar
    </button>
  </div>

  <!-- BACKDROP GELAP DI BELAKANG PANEL PROFIL -->
  <div
    id="profile-panel-backdrop"
    class="profile-panel-backdrop"
    onclick="closeProfilePanel()"
  ></div>

  <!-- CARD LENGKAPI PROFIL -->
  <div class="card" id="card-complete-profile" style="display:none;">
    <h1>Lengkapi data diri</h1>
    <p id="profile-hint">Masukan informasi dengan benar</p>

    <form id="form-complete-profile">
      <label>Nama lengkap</label>
      <input
        type="text"
        name="fullName"
        id="fullName"
        class="input"
        required
      />

      <label>Email</label>
      <input
        type="email"
        name="email"
        id="email"
        class="input"
      />

      <label>Nomor XL (kartu data/kuota)</label>
      <input
        type="number"
        name="nomorXL"
        id="nomorXL"
        class="input"
      />

      <label>Jenis kuota</label>
      <select
        name="jenisKuota"
        id="jenisKuota"
        class="input"
        required
      >
        <option value="">-- Pilih jenis kuota --</option>
        <option value="vpn">VPN</option>
        <option value="akrab">Akrab</option>
        <option value="reguler">Reguler</option>
      </select>

      <label>Alamat</label>
      <input
        type="text"
        name="alamat"
        id="alamat"
        class="input"
      />

      <div class="row-2col">
        <div class="col">
          <label>RT</label>
          <input
            type="number"
            name="rt"
            id="rt"
            class="input"
          />
        </div>
        <div class="col">
          <label>RW</label>
          <input
            type="number"
            name="rw"
            id="rw"
            class="input"
          />
        </div>
      </div>

      <label>Desa</label>
      <input
        type="text"
        name="desa"
        id="desa"
        class="input"
      />

      <label>Kecamatan</label>
      <input
        type="text"
        name="kecamatan"
        id="kecamatan"
        class="input"
      />

      <label>Kabupaten</label>
      <input
        type="text"
        name="kabupaten"
        id="kabupaten"
        class="input"
      />

      <label>Provinsi</label>
      <input
        type="text"
        name="provinsi"
        id="provinsi"
        class="input"
      />

      <button
        type="submit"
        class="btn-primary"
        style="margin-top:12px;"
      >
        Simpan
      </button>

      <button
        type="button"
        class="btn-secondary"
        style="margin-top:8px;"
        onclick="backToDashboard()"
      >
        Batal
      </button>
    </form>
  </div>

</body>
</html>
