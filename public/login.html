<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <title>Login AX Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/login.css" />
</head>
<body>
  
  <!-- Alert -->
  <div id="alert"></div>

  <!-- SCREEN: LOGIN -->
  <div id="screen-login" class="screen">
    <form id="form-login">
      <label for="login-phone">No. WhatsApp</label>
      <input
        id="login-phone"
        type="text"
        name="phone"
        autocomplete="tel"
      />

      <label for="login-password">Kata sandi</label>
      <input
        id="login-password"
        type="password"
        name="password"
        autocomplete="current-password"
      />

      <button type="submit">Masuk</button>

      <div class="links">
        <span class="click" onclick="switchScreen('register')">Daftar</span>
        <span>Â·</span>
        <span class="click" onclick="switchScreen('reset-step1')">Lupa kata sandi?</span>
      </div>
    </form>
  </div>

  <!-- SCREEN: REGISTER -->
  <div id="screen-register" class="screen">
    <form action="/do-register" method="POST">
      <label for="reg-name">Nama</label>
      <input id="reg-name" type="text" name="name" required />

      <label for="reg-phone">No. WhatsApp</label>
      <input id="reg-phone" type="text" name="phone" required />

      <label for="reg-pass">Kata sandi</label>
      <input id="reg-pass" type="password" name="password" required />

      <label for="reg-pass2">Ulangi kata sandi</label>
      <input id="reg-pass2" type="password" name="confirm_password" required />

      <button type="submit">Daftar</button>

      <div class="links">
        <span class="click" onclick="switchScreen('login')">
          Sudah punya akun? Masuk
        </span>
      </div>
    </form>
  </div>

  <!-- SCREEN: RESET STEP 1 (INPUT PHONE) -->
  <div id="screen-reset-step1" class="screen">
    <form action="/do-reset-start" method="POST">
      <label for="reset-phone">No. WhatsApp</label>
      <input id="reset-phone" type="text" name="phone" required />

      <button type="submit">Lanjut</button>

      <div class="links">
        <span class="click" onclick="switchScreen('login')">
          Kembali ke login
        </span>
      </div>
    </form>
  </div>

  <!-- SCREEN: RESET STEP 2 (KODE RESET) -->
  <div id="screen-reset-step2" class="screen">
    <form action="/do-reset-verify" method="POST">
      <!-- hidden phone dikirim ke server -->
      <input id="reset-code-phone-hidden" type="hidden" name="phone" />

      <!-- tampilan phone yang tidak bisa diedit -->
      <label for="reset-code-phone-display">No. WhatsApp</label>
      <input id="reset-code-phone-display" type="text" disabled />

      <label for="reset-code-input">Kode reset</label>
      <input
        id="reset-code-input"
        type="text"
        name="reset_code"
        required
      />

      <button type="submit">Verifikasi kode</button>

      <div class="links">
        <span class="click" onclick="switchScreen('login')">
          Kembali ke login
        </span>
      </div>
    </form>
  </div>

  <!-- SCREEN: RESET STEP 3 (PASSWORD BARU) -->
  <div id="screen-reset-step3" class="screen">
    <form action="/do-reset-final" method="POST">
      <!-- hidden phone dikirim ke server -->
      <input id="reset-newpass-phone-hidden" type="hidden" name="phone" />

      <!-- tampilan phone yang tidak bisa diedit -->
      <label for="reset-newpass-phone-display">No. WhatsApp</label>
      <input id="reset-newpass-phone-display" type="text" disabled />

      <label for="newpass">Kata sandi baru</label>
      <input id="newpass" type="password" name="new_password" required />

      <label for="newpass2">Ulangi kata sandi baru</label>
      <input
        id="newpass2"
        type="password"
        name="confirm_new_password"
        required
      />

      <button type="submit">Simpan kata sandi</button>

      <div class="links">
        <span class="click" onclick="switchScreen('login')">
          Kembali ke login
        </span>
      </div>
    </form>
  </div>

  <script src="/login.js"></script>
</body>
</html>
